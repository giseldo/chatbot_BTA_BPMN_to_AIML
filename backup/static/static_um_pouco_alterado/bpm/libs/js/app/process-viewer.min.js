function ExportInitizalization(){!function(a){"use strict";Bizagi.Util.overridePlugins(),Bizagi.App.Static.References={},Bizagi.App.Static.References.wrapper=".biz-ex-wrapper",Bizagi.App.Static.References.header=".biz-ex-header-view",Bizagi.App.Static.References.logo=".biz-ex-logo",Bizagi.App.Static.References.topNav=".biz-ex-top-nav",Bizagi.App.Static.References.sideBar="#sidebar",Bizagi.App.Static.References.sideBarMenu="#sideMainNav",Bizagi.App.Static.References.layout="#app-container-view",Bizagi.App.Static.References.layoutBottom=".biz-ex-layout",Bizagi.App.Static.References.updatePanelDiagram="#updatePanelDiagram",Bizagi.App.Static.References.updateDialogContent="#updateDialogContent",Bizagi.App.Static.References.navigationTop=".biz-ex-navigation-top",Bizagi.App.Static.References.navigationLeftId="#navigation-left",Bizagi.App.Static.References.navigationLeft=".biz-ex-navigation-left",Bizagi.App.Static.References.navigation=".biz-ex-navigation-view",Bizagi.App.Static.References.search=".biz-ex-search-view",Bizagi.App.Static.References.data=".biz-ex-diagram-data",Bizagi.App.Static.References.zoom="#biz-ex-diagram-view-zoom",Bizagi.App.Static.References.carousel=".biz-ex-carousel",Bizagi.App.Static.References.tabsOverview=".biz-ex-tabs-overview",Bizagi.App.Static.References.tabsSection=".section-container",Bizagi.App.Static.References.tabsActiveSection=".section-container > .active",Bizagi.App.Static.Shapes={},Bizagi.App.Static.Shapes.Rect="rect",Bizagi.App.Static.Shapes.Circle="circle",Bizagi.App.Static.Template=Backbone.Model.extend(),Bizagi.App.Static.Header=Backbone.Model.extend(),Bizagi.App.Static.NavigationLeft=Backbone.Model.extend({}),Bizagi.App.Static.Dialog=Backbone.Model.extend(),Bizagi.App.Header=new Bizagi.App.Static.Header,Bizagi.App.NavigationLeft=new Bizagi.App.Static.NavigationLeft,Bizagi.App.Templates=new Bizagi.App.Static.Template(Bizagi.Util.getTemplates()),Bizagi.App.Dialog=new Bizagi.App.Static.Dialog({showDialog:!1}),Bizagi.App.Static.Model=Backbone.Model.extend({typeDialog:"empty",getNavigationLeft:function(){var a=this;return a},getHeader:function(){var a=this,b=a.get("title")||Bizagi.Util.getResource("home"),c=a.get("modelName")||"Model",d=a.get("publishDate")||new Date;return Bizagi.App.Header.set("name",b),Bizagi.App.Header.set("process",c),Bizagi.App.Header.set("publishDate",d),Bizagi.App.Header},resetIdDiagram:function(){var a=this;a.set({idDiagram:0},{silent:!0})},resetShowDialog:function(){var a=this;a.set({showDialog:!1},{silent:!0})},resetTargetElement:function(a){var b=this,c=a?a:null;b.set({targetElement:c},{silent:!0})}}),Bizagi.App.HistoryModel=Backbone.Model.extend({history:[],add:function(){(""===Backbone.history.fragment||0===Backbone.history.fragment.length)&&(Backbone.history.fragment="list"),this.validHistoryItem()&&this.history.push(Backbone.history.fragment)},back:function(){var a=this.history.length;Bizagi.App.Router.navigate(this.history[a-1],{trigger:!0}),this.history.pop()},clear:function(){this.history=[]},validHistoryItem:function(){for(var a=!0,b=0;b<this.history.length;b++)if(this.history[b]===Backbone.history.fragment){a=!1;break}return a}}),Bizagi.App.History=new Bizagi.App.HistoryModel,Bizagi.App.Views.AppContainerView=Backbone.View.extend({name:"AppContainerView",template:"ContainerTmpl",updatePanel:Bizagi.App.Static.References.updatePanelDiagram,className:"biz-ex-app-view large-12 columns",id:"app-container-view",render:function(){var b,c,d=this,e=d.model.get("target");d.isFullScreen=!1,b=a.tmpl("ContainerTmpl",{}),a(b).appendTo(d.$el),e.append(d.$el),d.model.set("target",d.$el),IsIE8Browser()||(a("title")[0].innerHTML=d.model.get("modelName")),a(".biz-ex-supported").hide(),c=d.model.get("pages").length,d.initPanel=new(Bizagi.App.Views[d.model.get("actualView")])({name:"updatePanelView",target:d.updatePanel,model:d.model}),d.headerPanel=new Bizagi.App.Views.HeaderView({model:d.model}),d.navigationLeftPanel=new Bizagi.App.Views.NavigationView({eventComplete:"navigationLeftComplete",target:a(Bizagi.App.Static.References.navigationLeft,b),cloneTarget:a(Bizagi.App.Static.References.sideBarMenu),side:"left",model:d.model.getNavigationLeft()}),d.dialog=new Bizagi.App.Views.DialogView({target:d.$el,model:d.model,hide:!0}),(IsIE8Browser()&&c<PublishWebAttributes.ie8.diagramsSupported||!IsIE8Browser())&&(d.searchPanel=new Bizagi.App.Views.SearchView({target:a(Bizagi.App.Static.References.navigationLeft,b),model:d.model})),a(document).on("headerComplete",function(){d.navigationLeftPanel.render()}),a(document).on("navigationLeftComplete",function(){d.initPanel.render()}),a(document).on("tableViewComplete",function(){d.searchPanel&&!IsIE8Browser()&&(d.searchPanel.render(),d.searchPanel.refresh()),a(document).off("tableViewComplete")}),d.headerPanel.render(),d.columnsEqualHeight(),d.searchPanel&&d.searchPanel.setNavigationReference(d.navigationLeftPanel),d.listenTo(d.model,"change:actualView",function(){d.changeActualView.apply(d,[])}),d.listenTo(d.model,"change:idDiagram",function(){d.changeDiagramView.apply(d,[])}),d.listenTo(d.model,"change:typeView",function(){d.changeTypeView.apply(d,[])}),d.listenTo(d.model,"change:showDialog",function(){d.model.get("showDialog")?(a(".ui-autocomplete").is(":visible")&&a(".ui-autocomplete").hide(),d.dialog.open()):d.dialog.close()}),d.listenTo(d.model,"change:targetElement",function(){d.moveToElement.apply(d,[])}),d.listenTo(d.model,"change:idElement",function(){d.moveToElement.apply(d,[])}),null!==navigator.userAgent.match(/iPad/i)&&(a(".biz-ex-logo",Bizagi.App.Static.References.header).removeClass("large-3").addClass("large-4"),a(".biz-ex-top-nav",Bizagi.App.Static.References.header).removeClass("large-9").addClass("large-8"),a(".biz-ex-navigation-left",Bizagi.App.Static.References.layoutBottom).removeClass("large-3").addClass("large-4"),a(".biz-ex-diagram-update-panel",Bizagi.App.Static.References.layoutBottom).removeClass("large-9").addClass("large-8")),d.addHandlers()},columnsEqualHeight:function(){var b=this;a(window).load(function(){b.columnSizer.apply(b,[])}).resize(function(){b.columnSizer.apply(b,[]),b.showedView&&b.showedView.refreshSize()})},columnSizer:function(){var b=a(Bizagi.App.Static.References.navigation),c=(a(Bizagi.App.Static.References.navigationLeft),a(Bizagi.App.Static.References.updatePanelDiagram)),d=a(Bizagi.App.Static.References.sideBar),e=a(Bizagi.App.Static.References.logo),f=a(Bizagi.App.Static.References.topNav),g=a(Bizagi.App.Static.References.layoutBottom),h=a(window).width(),i=a(document).height(),j=a(Bizagi.App.Static.References.header).outerHeight(),k=a(Bizagi.App.Static.References.search).outerHeight(),l=i-j-k,m=i-j,n=Math.max(e.outerHeight(),f.outerHeight());b.css("height",l+"px"),c.css("height",m+"px"),d.css("height",m+"px"),h>767?(e.css("height",n+"px"),f.css("height",n+"px"),g.addClass("row")):(e.css("height","auto"),f.css("height","auto"),g.removeClass("row")),1023>h?a(Bizagi.App.Static.References.layoutBottom).removeClass("row"):a(Bizagi.App.Static.References.layoutBottom).addClass("row")},addHandlers:function(){var b=this;document.addEventListener("fullscreenchange",function(){b.isFullScreen=!b.isFullScreen,b.isFullScreen||Bizagi.App.Router.navigate("normal",{trigger:!0})},!1),document.addEventListener("mozfullscreenchange",function(){b.isFullScreen=!b.isFullScreen,b.isFullScreen||Bizagi.App.Router.navigate("normal",{trigger:!0})},!1),document.addEventListener("webkitfullscreenchange",function(){b.isFullScreen=!b.isFullScreen,b.isFullScreen||Bizagi.App.Router.navigate("normal",{trigger:!0})},!1),a(document).on("click",".biz-ex-navigate",function(c){c.preventDefault(),c.stopPropagation(),a(".ui-autocomplete").is(":visible")&&a(".ui-autocomplete").hide();var d=a(this).attr("href"),e=a(c.target),f=e.closest("#menu, #sideMenu, .biz-ex-process-link, .biz-ex-expand-description, .biz-ex-top-nav");f.length||Bizagi.App.History.add();var g=a(this).parents(".bix-ex-section-overview-n-carousel, .biz-ex-process-link");g.length&&b.model.set("back",!1),e.hasClass("biz-ex-expand-button-span")&&b.model.set("tempAttributes",e.data()),Bizagi.App.Router.navigate(d,{trigger:!0}),b.navigationLeftPanel.changeMenu(c,d),a("body").hasClass("active")&&a("body").inactive()})},refresh:function(){},moveToElement:function(){var a=this,b=a.model.get("idElement");a.showedView.isReady&&(null===a.model.get("targetElement")&&a.model.set({targetElement:b},{silent:!0}),a.model.get("showDialog")||a.showedView.moveToElement())},getName:function(){var a=this;return a.options.name||"Module View"},changeActualView:function(){var b=this,c={name:"updatePanelView",target:b.updatePanel,model:b.model};a(".ui-autocomplete").is(":visible")&&a(".ui-autocomplete").hide(),b.navigationLeftPanel.resetSelection(),b.showedView=new(Bizagi.App.Views[b.model.get("actualView")])(c),b.model.set("showedView",b.showedView),b.showedView.render(),a(Bizagi.App.Static.References.updatePanelDiagram).clearOverflow().removeClass("biz-ex-remove-padding"),b.searchPanel&&(b.searchPanel.render(),b.searchPanel.refresh())},changeDiagramView:function(){var b=this;b.dialog.close(),b.showedView.refresh();var c='[href*="'+b.model.get("idDiagram")+'"]',d=a(Bizagi.App.Static.References.navigationLeftId);a(c,d);b.searchPanel&&(b.searchPanel.render(),b.searchPanel.refresh())},changeTypeView:function(){var b=this;a(b.options.target);"FullScreen"===b.model.get("typeView")?b.goFullScreenMode():b.exitFullScreenMode()},goFullScreenMode:function(){var b=this,c=a("body"),d=a(".biz-ex-full-screen-modifier",c),e=a(".biz-ex-full-screen-modifier > .bz-icon",c);c.addClass("biz-ex-is-fullscreen"),e.addClass("bz-icon-minimize-outline").removeClass("bz-icon-maximize-outline"),c.removeClass("row"),d.addClass("exitfullscreen").on("click",function(){return a.fullscreen.exit(),Bizagi.App.Router.navigate("#normal",{trigger:!0}),!1}),a("header",c).removeClass("row"),a(Bizagi.App.Static.References.layoutBottom,c).removeClass("row"),a(Bizagi.App.Static.References.navigationLeft,c).hide().removeClass("hide-for-small"),a(Bizagi.App.Static.References.navigationLeftId,c).hide(),a(".biz-ex-diagram-update-panel",c).removeClass("large-9 ").addClass("large-12"),b.$el.clearColumns(12),browser.isIE?a(window).resize():c.fullscreen()},exitFullScreenMode:function(){var b=this,c=a(".biz-ex-full-screen-modifier"),d=b.model.get("target").parent(),e=a(".biz-ex-full-screen-modifier > .bz-icon",d);c.removeClass("exitfullscreen").off("click"),d.addClass("row"),e.addClass("bz-icon-maximize-outline").removeClass("bz-icon-minimize-outline"),a("body").removeClass("biz-ex-is-fullscreen"),a("header",d).addClass("row"),a(Bizagi.App.Static.References.layoutBottom,d).addClass("row"),a(Bizagi.App.Static.References.navigationLeft,d).show().addClass("hide-for-small"),a(Bizagi.App.Static.References.navigationLeftId,d).show(),a(".biz-ex-diagram-update-panel",d).removeClass("large-12 ").addClass("large-9"),b.$el.columns(12),browser.isIE&&a(window).resize()}}),Bizagi.App.Views.DiagramView=Backbone.View.extend({name:"DiagramView",template:"DiagramViewTmpl",templateActions:"ActionsTmpl",className:"biz-ex-diagram-view",id:"diagram",isReady:!1,elementPadding:60,render:function(){},refresh:function(){var b,c=this,d=a(this.options.target);if(c.zoomContainer&&c.zoomContainer.zoom("remove"),0!==c.model.get("idDiagram")){var e=Bizagi.Util.validateDiagaramInModel(c.model.get("pages"),c.model.get("idDiagram"));if(e.isValid){b=a.tmpl(c.template.toString(),e.page),d.empty().append(b);var f=e.page.name;Bizagi.App.Header.set("name",f),c.model.set("nameDiagram",f),_.has(e.page,"parentRef")?c.model.set("goBack",e.page.parentRef):c.model.set("goBack",!1);var g=e.page.image,h=a('<img src="'+Bizagi.Util.serializeURL(g)+'"/>'),i=(h[0].width,h[0].height,a(Bizagi.App.Static.References.updatePanelDiagram).height()-a(Bizagi.App.Static.References.data).outerHeight()-10);a(Bizagi.App.Static.References.updatePanelDiagram).width()-10;c.zoomContainer=a(Bizagi.App.Static.References.zoom),c.zoomContainerPreview=a("[data-zoompanepanel]",c.zoomContainer);var j=c.zoomContainerPreview.width(),k=c.zoomContainerPreview.height(),l=_.isEmpty(c.model.get("browser"))?!1:c.model.get("browser").isIE;a(Bizagi.App.Static.References.updatePanelDiagram).overflow().addClass("biz-ex-remove-padding");var m={image:Bizagi.Util.serializeURL(g),zoomRange:5,height:i,previewWidth:j,previewHeight:k,hotspotsCSS:"biz-ex-navigate",unavailableImage:c.model.get("unavailableImage"),isIE:l,onComplete:function(){a(".biz-ex-shape-poly",b).prepend('<div class="biz-ex-poly-inside"></div>'),c.isReady=!0,c.model.get("idElement")&&c.model.set("targetElement",c.model.get("idElement")),c.refreshSize(),setTimeout(function(){a(".biz-ex-diagram-data").addClass("bix-ex-diagram-data-height")},500)},onError:function(a){}},n=c.getHotSoptsList(e.page);n.length>0&&(m.hotspots=n),c.zoomContainer.zoom(m),c.zoomContainer.attr("role")&&a(".biz-ex-box-process-detail",d).hide(),c.model.get("goBack")?a(".biz-ex-diagram-data").addClass("biz-ex-goback"):a(".biz-ex-diagram-data").removeClass("biz-ex-goback")}else Bizagi.App.Router.navigate("error",{trigger:!0})}},getHotSoptsList:function(a){var b=this,c=[],d=!_.isEmpty(a.elements);return a.isSubprocessPage?d&&_.each(a.elements,function(a){c.push(b.getHotSpot(a))}):d&&_.each(a.elements,function(a){var d=!_.isEmpty(a.pageElements);c.push(b.getHotSpot(a)),d&&_.each(a.pageElements,function(a){c.push(b.getHotSpot(a))})}),c},getHotSpot:function(b){var c,d=this,e=b.imageBounds,f={};return _.isEmpty(b.imageBounds)||(f.w=0===parseFloat(e.width)?d.calculateDimetions(e.points).width:e.width,f.h=0===parseFloat(e.height)?d.calculateDimetions(e.points).height:e.height,f.x=e.points[0].x,f.y=e.points[0].y,e.radius&&(f.radius=e.radius),b.id&&(f.id=b.id),e.shape&&(f.css="biz-ex-shape-"+e.shape),f.onMouseOver=d.onMouseOverHotSpot,f.onMouseOut=d.onMouseOutHotSpot),!_.isEmpty(b.properties)||!_.isEmpty(b.performers)||b.description||b.name?(f.properties=b.properties,f.onClick=function(a){a.preventDefault(),d.clickHotSpot.apply(this,[{e:a,el:b,model:d.model,hsHasClick:!0}])}):(f.onClick=function(a){a.preventDefault(),d.clickHotSpot.apply(this,[{e:a,el:b,model:d.model,hsHasClick:!1}])},f.css=f.css+" biz-ex-no-hand"),b.idDiagram=d.model.get("idDiagram"),c=a.tmpl(d.templateActions.toString(),b),f.content=c,_.isEmpty(f)?void 0:f},calculateDimetions:function(a){var b={width:0,height:0};if(a.length>0){var c=a[0].x,d=a[1]?a[1].x:a[0].x,e=a[0].y,f=a[1]?a[1].y:a[0].y,g=d-c,h=f-e;b.width=g,b.height=h}return b},dblclickHotSpot:function(b){var c=a(b.e.target);c.has(".biz-ex-action-go-process")&&Bizagi.App.Router.navigate(href,{trigger:!0})},clickHotSpot:function(b){b.e.preventDefault(),b.e.stopPropagation();var c=b.model,d=b.el.id,e=b.el.idDiagram,f=b.el.pageElementRef&&"LinkIntermediate"===b.el.elementType?b.el.pageElementRef:!1,g=a(b.e.target),h=g.data(),i=_.has(h,"action"),j=(g.attr("class"),g.attr("href")),k=b.el?b.el.description:"";c.set("tempDescription",k),"url"!=h.action&&Bizagi.App.History.add(),i?(c.set("tempAttributes",""),"image"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{href:j,id:d}),Bizagi.App.Router.navigate("dialog/image/"+d,{trigger:!0})):"url"===h.action?window.open(j):"text"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{text:g.data("text"),id:d}),Bizagi.App.Router.navigate("dialog/text/"+d,{trigger:!0})):"table"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{text:g.data("text"),id:d}),Bizagi.App.Router.navigate("dialog/table/"+d,{trigger:!0})):"resource"===h.action?Bizagi.App.Router.navigate("dialog/resource/"+d,{trigger:!0}):"fileLinked"===h.action&&(j=j.replace(/(\\)/gi,"/"),c.set("tempAttributes",{text:Bizagi.Util.getResource("localResource")+" : "+g.attr("href"),id:d}),Bizagi.App.Router.navigate("dialog/text/"+d,{trigger:!0}),window.open("file:"+j))):g.hasClass("biz-ex-action-go-process")?Bizagi.App.Router.navigate(j,{trigger:!0}):b.hsHasClick&&!g.hasClass("biz-ex-action-link-element")?Bizagi.App.Router.navigate("dialog/element/"+d,{trigger:!0}):f&&g.hasClass("biz-ex-action-link-element")&&(g.hasClass("biz-ex-action-link-element")?Bizagi.App.Router.navigate("diagram/"+e+"/element/"+f,{trigger:!0}):Bizagi.App.Router.navigate("element/"+e+"/"+f,{trigger:!0}))},onMouseOverHotSpot:function(a,b){b.active()},onMouseOutHotSpot:function(a,b){b.inactive()},refreshSize:function(){var b=this,c=a(Bizagi.App.Static.References.updatePanelDiagram),d={width:c.width(),height:c.height()-a(Bizagi.App.Static.References.data).outerHeight()};b.zoomContainer.zoom("resize",d),b.zoomContainer.zoom("moveTo",{fit:!0})},moveToElement:function(){var b,c=this,d=a("#"+c.model.get("targetElement"));d.length>0?(b=d.position(),a(".biz-ex-is-positioned").removeClass("biz-ex-is-positioned"),d.hasClass("biz-ex-shape-poly")?a(".biz-ex-poly-inside",d).addClass("biz-ex-is-positioned"):d.addClass("biz-ex-is-positioned"),c.zoomContainer.zoom("moveTo",{x:-1*(b.left-c.elementPadding),y:-1*(b.top-c.elementPadding)})):setTimeout(function(){c.moveToElement()},100)}}),Bizagi.App.Views.DialogView=Backbone.View.extend({name:"DialogView",template:"DialogViewTmpl",templateSubProcess:"DialogViewTmplSubProcess",templatePerformers:"DialogViewTmplPerformers",templateProperties:"DialogViewTmplProperties",templateImages:"DialogViewTmplImages",templateText:"DialogViewTmplText",templateExpandHTML:"DialogViewTmplHTML",templateDescription:"DialogViewTmplTextDescription",className:"biz-ex-dialog-view",initialize:function(){var a=this;a.render()},render:function(){var b=this;b.$modal=a.tmpl(this.template.toString(),{}),b.model.set("back",!0),b.$updateContent=a(Bizagi.App.Static.References.updateDialogContent,b.$modal),a(this.options.target).append(b.$modal),b.$modal.on("closed",function(){var a=b.$modal.hasClass("biz-ex-full-modal");b.$updateContent.empty(),b.cleanClasses(),b.model.get("back")&&a&&Bizagi.App.History.back()}),b.$modal.on("click",".biz-ex-icon-expand",function(){b.$modal.toggleClass("biz-ex-expanded"),b.refresh()}),a(window).on("resize.dialog",function(){b.refresh()}),b.$modal.on("opened",function(){b.model.set("back",!0),b.extendModal()})},renderType:function(){var a=this,b=a.model,c=b.get("typeDialog");a.$updateContent.empty();var d=!1;return a[c]&&(d=a[c]()),d},open:function(){var a=this;a.model;a.renderType()&&a.$modal.foundation("reveal","open")},close:function(){var a=this;a.$modal.foundation("reveal","close")},cleanClasses:function(){var b=this;b.$modal.removeClass("small biz-ex-full-modal biz-ex-expanded biz-ex-overflow biz-ex-description"),a(".biz-ex-icon-expand",b.$modal).closest("a").hide()},subProcess:function(){var b,c=this,d=c.model,e=Bizagi.Util.validateDiagaramInModel(d.get("pages"),d.get("idSubProcess")),f=!1;return e.isValid&&(f=!0,c.id=e.page.id,b=a.tmpl(this.templateSubProcess.toString(),e.page),a("img",b).validateImage({unavailableImage:c.model.get("unavailableImage")}),c.$updateContent.html(b),c.$modal.on("opened",function(){var b,d,e,f=a(this);setTimeout(function(){d=a(Bizagi.App.Static.References.tabsActiveSection),e=a(Bizagi.App.Static.References.tabsSection),f.foundation("section","reflow",{callback:function(){}}),_.isElement(d)||(b=a("a",d).attr("href"),a('a[href="'+b+'"]',f).hide()),a(Bizagi.App.Static.References.carousel).carousel({thumbs:2}),a(".biz-ex-icon-expand",c.$modal).closest("a").hide()},50)}),a(Bizagi.App.Static.References.tabsOverview,c.$modal).on("click","a",function(b){b.preventDefault();var c,d,e,f=a(this);e=a(Bizagi.App.Static.References.tabsSection),d=f.attr("href"),c=f.siblings(),a('a[href="'+d+'"]',e).trigger("click"),e.parent().addClass(f.data("css")),a.each(c,function(){e.parent().removeClass(a(this).data("css"))}),f.hide(),c.show()})),f},performers:function(){var b,c=this,d=c.model.get("resourcePage"),e=!1;return d&&(e=!0,b=a.tmpl(this.templatePerformers.toString(),d),c.$updateContent.html(b),c.$modal.addClass("small biz-ex-overflow"),c.$modal.on("opened",function(){a(".biz-ex-performers",c.$updateContent).css("height",a("#myModal").outerHeight()-a(".biz-ex-performer-header",c.$updateContent).outerHeight())}),a(".biz-ex-performer-navigate",c.$modal).on("click",function(b){b.preventDefault();var c=a(this).attr("href");Bizagi.App.Router.navigate(c,{trigger:!0})})),e},properties:function(){var b,c=this,d=c.model,e=Bizagi.Util.validateDiagaramInModel(d.get("pages"),d.get("idElement")),f=d.get("idElement"),g=d.get("idDiagram"),h=!1;return e.isValid&&(h=!0,e.page.nameDiagram=c.model.get("nameDiagram"),b=a.tmpl(this.templateProperties.toString(),e.page),e.page.description&&c.model.set("tempDescription",e.page.description),a("img",b).validateImage({unavailableImage:c.model.get("unavailableImage")}),c.$updateContent.html(b),c.$modal.addClass("biz-ex-full-modal"),a(".biz-ex-element-actions",b).on("click","a",function(a){c.clickHotSpot.apply(this,[{e:a,el:e,model:c.model,hsHasClick:!0}])}),f===g&&(a(".biz-ex-action-go-process",b).closest(".biz-ex-element-action").remove(),a("[data-pa]",b).remove())),a(".biz-ex-dialog-header",c.$modal).on("click","a.biz-ex-more",function(b){b.preventDefault();var c=a(this);c.hide(),c.siblings(".biz-ex-is-hidden").fadeIn(),c.siblings(".biz-ex-is-collapsible").hide()}),a(".biz-ex-dialog-header",c.$modal).on("click","a.biz-ex-less",function(b){b.preventDefault();var c=a(this);c.parent().fadeOut(function(){c.parent().siblings(".biz-ex-expand-button").hide(),c.parent().siblings(".biz-ex-more").show(),c.parent().siblings(".biz-ex-is-collapsible").show()})}),c.$modal.on("opened",function(){a(window).foundation("magellan")}),h},images:function(){var b,c=!0,d=this,e=(d.model,d.model.get("tempAttributes").href);return b=a.tmpl(this.templateImages.toString(),{name:e,image:e}),d.$updateContent.html(b),a(".biz-ex-image-resource",d.$updateContent).validateImage({unavailableImage:d.model.get("unavailableImage")}),c},text:function(){var b,c=!0,d=this;d.model;return b=a.tmpl(this.templateText.toString(),{name:Bizagi.Util.getResource("text"),text:d.model.get("tempAttributes").text}),d.$updateContent.html(b),c},description:function(){var b,c=!0,d=this,e=(d.model,d.model.get("tempAttributes")),f=_.has(e,"description")?e.description:!1,g=_.has(e,"mainProcessDescription")?e.mainProcessDescription:!1,h=_.has(e,"mainProcessProperties")?e.mainProcessProperties:!1;return b=a.tmpl(this.templateDescription.toString(),{name:"",description:f,mainProcessDescription:g,mainProcessProperties:h}),d.$updateContent.html(b),d.$modal.addClass("biz-ex-description"),c},expand:function(){var b,c=!0,d=this;d.model;return b=a.tmpl(this.templateExpandHTML.toString(),{name:Bizagi.Util.getResource("description"),text:d.model.get("tempDescription")}),d.$updateContent.html(b),d.$modal.addClass("biz-ex-description"),d.extendModal(),c},clickHotSpot:function(b){b.e.preventDefault(),b.e.stopPropagation();var c=b.model,d=b.el.id,e=b.el.idDiagram,f=b.el.pageElementRef&&"LinkIntermediate"===b.el.elementType?b.el.pageElementRef:!1,g=a(b.e.target),h=g.data(),i=_.has(h,"action"),j=(g.attr("class"),g.attr("href"));c.set("back",!0),"url"!=h.action&&Bizagi.App.History.add(),i?(c.set("tempAttributes",""),"image"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{href:j,id:d}),Bizagi.App.Router.navigate("dialog/image/"+d,{trigger:!0})):"url"===h.action?window.open(j):"text"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{text:g.data("text"),id:d}),Bizagi.App.Router.navigate("dialog/text/"+d,{trigger:!0})):"table"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{text:g.data("text"),id:d}),Bizagi.App.Router.navigate("dialog/table/"+d,{trigger:!0})):"resource"===h.action?(d=d?d:c.get("idElement"),c.set("tempAttributes",{text:g.data("text"),id:d}),Bizagi.App.Router.navigate("dialog/resource/"+d,{trigger:!0})):"fileLinked"===h.action&&(j=j.replace(/(\\)/gi,"/"),c.set("tempAttributes",{text:Bizagi.Util.getResource("localResource")+" : "+g.attr("href"),id:d}),Bizagi.App.Router.navigate("dialog/text/"+d,{trigger:!0}),window.open("file:"+j))):g.hasClass("biz-ex-action-go-process")?(c.set("back",!1),Bizagi.App.Router.navigate(j,{trigger:!0})):b.hsHasClick&&!f?Bizagi.App.Router.navigate("dialog/element/"+d,{trigger:!0}):f&&(g.hasClass("biz-ex-action-link-element")?Bizagi.App.Router.navigate("diagram/"+e+"/element/"+f,{trigger:!0}):Bizagi.App.Router.navigate("element/"+e+"/"+f,{trigger:!0}))},extendModal:function(){var b=this,c=a(".biz-ex-dialog-content");if(c.length)if(c.height("auto"),c.outerHeight()<c[0].scrollHeight||c.outerHeight()+c[0].scrollHeight>b.$modal.height()){var d=a("header",b.$modal).outerHeight(),e=b.$modal.outerHeight();c.height(e-d)}else b.$modal.height("auto")},refresh:function(){var b=this,c=b.$modal.height()-a("header",b.$modal).outerHeight();a(".biz-ex-dialog-content",b.$modal).height(c);var d=a(Bizagi.App.Static.References.carousel);d.length>0&&a(Bizagi.App.Static.References.carousel).carousel("refresh"),setTimeout(function(){b.extendModal()},500)}}),Bizagi.App.Views.ErrorView=Backbone.View.extend({name:"ErrorView",template:"ErrorViewTmpl",className:"biz-ex-error-view",id:"error",render:function(){var b,c=this,d=c.model.get("idDiagram");b=a.tmpl(c.template,{id:d}),a(this.options.target).empty().append(b)}}),Bizagi.App.Views.GuidListView=Backbone.View.extend({name:"GuidListView",template:"GuidViewTmpl",className:"biz-ex-guid-view",id:"guidList",render:function(){var b,c=this;b=a.tmpl(c.template,c.model.attributes),a(this.options.target).empty().append(b),a("img",b).validateImage({unavailableImage:c.model.get("unavailableImage")})},refreshSize:function(){}}),Bizagi.App.Views.HeaderView=Backbone.View.extend({name:"HeaderView",tagName:"header",template:"HeaderViewTmpl",className:"cf row biz-ex-header-view",render:function(){var b,c,d,e=this,f=a(e.model.get("target"));e.modelHeader=e.model.getHeader(),e.listenTo(e.modelHeader,"change:name",function(){e.refreshHeaderName.apply(e,[])}),e.listenTo(e.model,"change:goBack",function(){e.goBackHeader.apply(e,[])}),c=a.tmpl(e.template,e.modelHeader.attributes),d=e.$el.append(c),f.prepend(d),b=new Bizagi.App.Views.NavigationView({target:a(Bizagi.App.Static.References.navigationTop,c),side:"top",model:{}}),b.render(),a("[title]",e.$el).tooltip({tooltipClass:"biz-ex-tooltip biz-ex-header-tooltip",position:{my:"right center",at:"left center"}}),Bizagi.Util.offCanvas(),a.event.trigger({type:"headerComplete",message:"view is rendered",time:new Date,ui:e})},refreshHeaderName:function(){var b=this;a(".biz-ex-title-diagram",b.$el).text(b.modelHeader.get("name")),a(".biz-ex-title-diagram",b.$el).attr("title",b.modelHeader.get("name"))},getName:function(){var a=this;return a.options.name||a.id},goBackHeader:function(){var b=this;b.model.get("goBack")?a(".biz-ex-back-process").attr("href","diagram/"+b.model.get("goBack")).attr("title",Bizagi.Util.getResource("goToParentProcess")).html('<div class="biz-ex-icon-back  absolute-center"></div>').addClass("biz-ex-navigate").next().addClass("biz-ex-back-is-visible"):a(".biz-ex-back-process").attr("href","").empty().removeClass("biz-ex-navigate").attr("title","").next().removeClass("biz-ex-back-is-visible")}}),Bizagi.App.Views.NavigationView=Backbone.View.extend({name:"NavigationView",template:"NavigationViewTmpl",cloneTemplate:"CloneNavigationViewTmpl",className:"row biz-ex-navigation-view",eventComplete:"navigationComplete",render:function(){var b,c,d,e=this;e.getName();b=a.tmpl(e.template,e.model.attributes),c=a(b).clone(),a("ul.nav-bar",c).attr("id","mainNavCloned"),d=e.$el.append(b),e.$el.attr("id","navigation-"+e.options.side),a(this.options.target).append(d),a(this.options.cloneTarget).append(c),a("[title]",e.$el).tooltip({tooltipClass:"biz-ex-tooltip-nav biz-ex-header-tooltip",position:{my:"right center",at:"left center"}}),a("[title]",a(this.options.cloneTarget)).tooltip({tooltipClass:"biz-ex-tooltip-nav biz-ex-header-tooltip",position:{my:"right center",at:"left center"}});var f=this.options.eventComplete||e.eventComplete;a.event.trigger({type:f,message:"view is rendered",time:new Date,ui:e})},getName:function(){var a=this;return a.options.name||a.id},changeMenu:function(b,c){var d=this;d.model.get("idDiagram");var e=a(b.target);e.hasClass("biz-ex-icon-minus")?d.cleanActive(b):d.selectItem()},cleanActive:function(a){var b=this;b.resetSelection(a)},selectItem:function(b){var c,d,e,f,g=this;if(b=b?b:g.model.get("idDiagram"),0!==b){var h=(Bizagi.Util.cleanSelector(Bizagi.App.Static.References.navigationLeft),a(Bizagi.App.Static.References.navigationLeft)),i=a(Bizagi.App.Static.References.sideBar),j=a('[href="diagram/'+b+'"]',h),k=a('[href="diagram/'+b+'"]',i),l=j.parent(),m=k.parent();g.resetSelection(),j.parent().active(),k.parent().active(),l.active(),m.active(),e=j.parents("li.biz-ex-sub-page"),f=k.parents("li.biz-ex-sub-page"),_.isEmpty(e)||a(e[e.length-1]).active("ancestors"),_.isEmpty(f)||a(f[f.length-1]).active("ancestors");var n=j.closest('[role="navigation"]'),o=k.closest('[role="navigation"]');if(c=a(".active-ancestors:first",n),d=a(".active-ancestors:first",o),a.each(c,function(){a(".biz-ex-icon-plus",a(this)).removeClass("biz-ex-icon-plus").removeClass("bz-icon-plus").addClass("biz-ex-icon-minus bz-icon-minus")}),a.each(d,function(){a(".biz-ex-icon-plus",a(this)).removeClass("biz-ex-icon-plus").removeClass("bz-icon-plus").addClass("biz-ex-icon-minus bz-icon-minus")}),a(Bizagi.App.Static.References.navigation).outerHeight()<a(Bizagi.App.Static.References.navigation)[0].scrollHeight&&l.length){var p=a(Bizagi.App.Static.References.navigation),q=l.offset().top-l.outerHeight()-p.offset().top+p.scrollTop();p.animate({scrollTop:q},"slow")}}},resetSelection:function(b){var c=a(Bizagi.App.Static.References.navigationLeft),d=a(Bizagi.App.Static.References.sideBar),e=".biz-ex-sub-page";b&&a(b.target).hasClass("biz-ex-icon-minus")&&a(b.target).removeClass("biz-ex-icon-minus").removeClass("bz-icon-minus").addClass("biz-ex-icon-plus bz-icon-plus"),a(e,c).inactive(),a(e,d).inactive(),a(".biz-ex-icon-minus",c).removeClass("biz-ex-icon-minus").removeClass("bz-icon-minus").addClass("biz-ex-icon-plus bz-icon-plus"),a(".biz-ex-icon-minus",d).removeClass("biz-ex-icon-minus").removeClass("bz-icon-minus").addClass("biz-ex-icon-plus bz-icon-plus")}}),Bizagi.App.Views.SearchView=Backbone.View.extend({name:"SearchView",template:"SearchTmpl",templateResults:"SearchTmplResults",templateResultsAlert:"SearchTmplResultsAlert",className:"row biz-ex-search-view",id:"search",eventComplete:"searchPanelComplete",isRendered:!1,render:function(){var b,c,d=this;if(!d.isRendered){b=a.tmpl(d.template,{}),d.$inputSearch=a(".biz-ex-search-input",b),d.$searchView=d.$el.append(b),d.$settingsOptions=a(".biz-ex-search-options",d.$searchView),IsIE8Browser()||(c=a.tmpl(d.template,{}),d.$inputSearchHeader=a(".biz-ex-search-input",c),d.$searchViewHeader=a(Bizagi.App.Static.References.topNav).append(c),d.$settingsOptionsHeader=a(".biz-ex-search-options",d.$searchViewHeader)),a(this.options.target).prepend(d.$searchView),d.addSearchButtonHandler(),d.addSearchOptionHandler(),d.isRendered=!0;var e=this.options.eventComplete||d.eventComplete;a.event.trigger({type:e,message:"view is rendered",time:new Date,ui:d})}},refresh:function(){var a=this,b=a.model.get("searchMap");IsIE8Browser()?-1===Backbone.history.fragment.indexOf("diagram")&&-1===Backbone.history.fragment.indexOf("element")||-1!==Backbone.history.fragment.indexOf("dialog")?a.$el.hide():(a.$el.show(),a.enableLocalData(),a.setLocalData(b),a.disableGlobalData()):-1===Backbone.history.fragment.indexOf("diagram")&&-1===Backbone.history.fragment.indexOf("element")||-1!==Backbone.history.fragment.indexOf("dialog")?(a.disableLocalData(),a.setGlobalData(b)):(a.enableLocalData(),a.setLocalData(b))},settingsDisplay:function(b){var c=this;"none"===c.$settingsOptions.css("display")&&a(b.target).closest(".biz-ex-navigation-left").length&&(c.$settingsOptions.show(),c.settingsClose()),IsIE8Browser()||"none"===c.$settingsOptionsHeader.css("display")&&a(b.target).closest(".biz-ex-header-view").length&&(c.$settingsOptionsHeader.show(),
c.settingsClose())},settingsClose:function(){var b=this;b.removeSearchButtonHandler(),a(document).off("click.search").on("click.search",function(a){b.$settingsOptions.is(a.target)||(b.$settingsOptions.hide(),b.addSearchButtonHandler())}),IsIE8Browser()||a(document).off("click.searchHeader").on("click.searchHeader",function(a){b.$settingsOptions.is(a.target)||(b.$settingsOptionsHeader.hide(),b.addSearchButtonHandler())})},addSearchButtonHandler:function(a){var b=this,c=".biz-ex-btn-search";b.$searchView.off("click.search",c).on("click.search",c,function(a){a.stopPropagation(),a.preventDefault(),b.settingsDisplay.apply(b,[a])}),IsIE8Browser()||b.$searchViewHeader.off("click.searchHeader",c).on("click.searchHeader",c,function(a){a.stopPropagation(),a.preventDefault(),b.settingsDisplay.apply(b,[a])})},removeSearchButtonHandler:function(){var a=this,b=".biz-ex-btn-search";a.$searchView.off("click.search"),a.$searchView.on("click.search",b,function(a){a.preventDefault()}),IsIE8Browser()||(a.$searchViewHeader.off("click.searchHeader"),a.$searchViewHeader.on("click.searchHeader",b,function(a){a.preventDefault()}))},optionsDisplay:function(b,c){var d=this,e=c.data("type"),f=".biz-ex-search-option",g=d.model.get("searchMap");a(f,d.$settingsOptions).inactive(),IsIE8Browser()||a(f,d.$settingsOptionsHeader).inactive(),c.active(),"global"===e?(c.parents(".biz-ex-search-options").hide(),d.setGlobalData(g)):"local"===e&&(c.parents(".biz-ex-search-options").hide(),d.setLocalData(g))},addSearchOptionHandler:function(){var b=this,c=".biz-ex-search-option";b.$settingsOptions.on("click.option",c,function(c){c.stopPropagation(),c.preventDefault(),b.optionsDisplay.apply(b,[c,a(this)])}),IsIE8Browser()||b.$settingsOptionsHeader.on("click.option",c,function(c){c.stopPropagation(),c.preventDefault(),b.optionsDisplay.apply(b,[c,a(this)])})},enableLocalData:function(){var b='[data-type="global"]',c='[data-type="local"]';a(c).show().active(),a(b).inactive()},disableLocalData:function(){var b='[data-type="global"]',c='[data-type="local"]';a(c).hide().inactive(),a(b).active()},disableGlobalData:function(){var b='[data-type="global"]';a(b).hide()},globalData:function(a){var b=this,c=a,d=[];return _.each(c,function(a){_.each(a.elements,function(c){var e={};e.label=c.value,e.value=a.containerId+"/"+c.id,e.container=a.containerName,e.pages=Bizagi.Util.validateDiagaramInModel(b.model.get("pages"),c.id),_.has(e.pages,"page")&&(_.has(e.pages.page,"elementType")?e.elementType=e.pages.page.elementType:e.elementType=e.pages.page.isSubprocessPage?"sub-process":"process"),d.push(e)})}),d},localData:function(a){for(var b,c=this,d=c.model.get("idDiagram"),e=0;e<a.length;e++)if(a[e].containerId===d){b=c.getLocalObject(a,e);break}return b},getLocalObject:function(a,b){var c=this,d=[];return _.each(a[b].elements,function(e){var f={};f.label=e.value,f.value=a[b].containerId+"/"+e.id,f.container=a[b].containerName,f.isSubProcess=a[b].isSubprocess,f.pages=Bizagi.Util.validateDiagaramInModel(c.model.get("pages"),e.id),_.has(f.pages,"page")&&(_.has(f.pages.page,"elementType")?f.elementType=f.pages.page.elementType:f.elementType=f.pages.page.isSubprocessPage?"sub-process":"process"),d.push(f)}),d},setGlobalData:function(a){var b,c=this;b=c.globalData(a),c.$inputSearch.attr("placeholder",Bizagi.Util.getResource("searchGlobal")),c.searchProcess(c.$inputSearch,b),IsIE8Browser()||(c.$inputSearchHeader.attr("placeholder",Bizagi.Util.getResource("searchGlobal")),c.searchProcess(c.$inputSearchHeader,b)),browser.isIE&&browser.versionMinor<=9&&(IsIE8Browser()||c.$inputSearchHeader.val(Bizagi.Util.getResource("searchGlobal")),c.$inputSearch.val(Bizagi.Util.getResource("searchGlobal")))},setLocalData:function(a){var b,c=this;b=c.localData(a),c.$inputSearch.attr("placeholder",Bizagi.Util.getResource("searchLocal")),c.searchProcess(c.$inputSearch,b),IsIE8Browser()||(c.$inputSearchHeader.attr("placeholder",Bizagi.Util.getResource("searchLocal")),c.searchProcess(c.$inputSearchHeader,b)),browser.isIE&&browser.versionMinor<=9&&(IsIE8Browser()||c.$inputSearchHeader.val(Bizagi.Util.getResource("searchLocal")),c.$inputSearch.val(Bizagi.Util.getResource("searchLocal")))},setNavigationReference:function(a){var b=this;b.navigationLeftPanel=a},searchProcess:function(b,c){var d,e,f=this,g=f.model.get("showedView"),h=a(b);h.attr("placeholder");c&&(h.autocomplete({source:c,minLength:2,open:function(b,c){var d=h.outerWidth();a(".ui-autocomplete").css("width",d,"px"),g&&"DiagramView"===g.name&&g.zoomContainer.zoom("detachKeydown")},close:function(){g&&"DiagramView"===g.name&&g.zoomContainer.zoom("attachKeydown"),e&&e.remove()},focus:function(a,b){return a.preventDefault(),h.val(b.item.label),!1},select:function(b,c){return b.preventDefault(),h.val(c.item.label),f.model.resetTargetElement(),Bizagi.App.Router.navigate("element/"+c.item.value,{trigger:!0}),f.navigationLeftPanel.changeMenu(b,"element/"+c.item.value),a(this).autocomplete("close"),!1},response:function(b,c){return c.content.length||(e=a.tmpl(f.templateResultsAlert).hide(),h.closest(".biz-ex-search").append(e),h.off("blur.response").on("blur.response",function(){a(this).val(""),e.remove()}),e.fadeIn().delay(500).fadeOut(function(){a(this).remove()})),!1}}).data("ui-autocomplete")._renderItem=function(b,c){return d=a.tmpl(f.templateResults,c),d.appendTo(b)}),h.off("focus").on("focus",function(){h.attr("placeholder",""),browser.isIE&&browser.versionMinor<=9&&h.val(""),e&&e.remove()})},moveToFullScreen:function(){var b=this;b.searchCloned=a("#search"),a("#search").remove(),b.searchCloned.appendTo("#app-container-view").addClass("search-for-fullscreen"),b.refresh()},restore:function(){var b=this;b.search=a("#search"),a("#search").remove(),b.search.insertBefore("#navigation-left").removeClass("search-for-fullscreen"),b.refresh()}}),Bizagi.App.Views.TableView=Backbone.View.extend({name:"TableView",template:"TableViewTmpl",templatePanel:"TableViewTmplExPanel",templateItem:"TableViewTmplItem",className:"biz-ex-table-view",id:"table",descLength:125,eventComplete:"tableViewComplete",render:function(){var b,c,d,e=this,f=e.model,g=f.attributes.pages;b=a.tmpl(this.template.toString(),f.attributes),a(this.options.target).empty().append(b);for(var h=0;h<g.length;h++){var i=g[h];e.pageHasSubPages(i),d=a.tmpl(this.templateItem.toString(),i),b.append(d)}for(var j=0;j<g.length;j++){var k=g[j],l={page:k};if(l.mainProcessDescription={summary:!1,expand:!1},k.mainProcessId){var m=Bizagi.Util.getMainProcess(g,k.mainProcessId)||{description:""};l.mainProcessDescription.summary=Bizagi.Util.renderDescriptionPreview(m.description,PublishWebAttributes.maxLenghtTableViewDescription).descriptionSummary,Bizagi.Util.renderDescriptionPreview(m.description,PublishWebAttributes.maxLenghtTableViewDescription).isLarge&&(l.mainProcessDescription.expand=!0)}l.description={summary:!1,expand:!1},k.description&&(l.description.summary=Bizagi.Util.renderDescriptionPreview(k.description,PublishWebAttributes.maxLenghtTableViewDescription).descriptionSummary,Bizagi.Util.renderDescriptionPreview(k.description,200).isLarge&&(l.description.expand=!0)),c=a.tmpl(this.templatePanel.toString(),l),a("img",c).validateImage({unavailableImage:e.model.get("unavailableImage")}),c.appendTo(a('[data-figureID="'+k.id+'"]'))}Bizagi.App.Header.set("name",Bizagi.Util.getResource("home")),e.model.set("goBack",!1),e.asignLargeDescriptions(f.attributes.pages),a(Bizagi.App.Static.References.navigation).animate({scrollTop:0},"slow");var n=this.options.eventComplete||e.eventComplete;a.event.trigger({type:n,message:"view is rendered",time:new Date,ui:e})},asignLargeDescriptions:function(b){var c,d=this,e=!1,f=!1,g=a(this.options.target);a(".biz-ex-over-panel",g).each(function(g,h){var i=a(this),j="",k=!1;b[g]&&(j=b[g].description?b[g].description:"",k=b[g].mainProcessId?b[g].mainProcessId:!1),k&&(c=Bizagi.Util.validateDiagaramInModel(d.model.get("pages"),b[g].mainProcessId),c.isValid&&(f=c.page.properties?c.page.properties:!1,e=c.page.description?c.page.description:!1)),a(".biz-ex-expand-button-span",i).data({description:j,mainProcessDescription:e,mainProcessProperties:f})})},refreshSize:function(){},pageHasSubPages:function(a){a.hasSubPages=!!a.subPages,a.hasPublishedSubPages=a.hasSubPages&&a.subPages.length>0}}),Bizagi.App.Static.Router=Backbone.Router.extend({routes:{"(/)(#)":"root","list(/)":"list","diagram/:id(/)":"diagram","element/:idDiagram/:id(/)":"element","diagram/:idDiagram/element/:id(/)":"elementDiagram","dialog/diagram/:id(/)":"subProcess","dialog/performers(/)":"performers","dialog/image/:path(/)":"images","dialog/text/:id(/)":"text","dialog/description(/)":"description","dialog/table/:id(/)":"text","dialog/resource/:id(/)":"text","dialog/diagram/description/":"text","dialog/element/:id(/)":"properties","dialog/expand/description(/)":"expand",fullscreen:"fullscreen",normal:"normal",error:"error","guid(/)":"guidList"},root:function(){Bizagi.App.History.clear(),Bizagi.App.Model.resetIdDiagram(),Bizagi.App.Model.set({actualView:"TableView",showDialog:!1})},fullscreen:function(){Bizagi.App.Model.set({typeView:"FullScreen"})},normal:function(){Bizagi.App.Model.set({typeView:"Normal"})},diagram:function(a){Bizagi.App.Model.set({actualView:"DiagramView",idDiagram:a,showDialog:!1})},guidList:function(){Bizagi.App.Model.set({actualView:"GuidListView",showDialog:!1})},element:function(a,b){Bizagi.App.Model.set({actualView:"DiagramView",idDiagram:a,idElement:b,showDialog:!1})},elementDiagram:function(a,b){Bizagi.App.Model.set({actualView:"DiagramView",idDiagram:a,targetElement:b,showDialog:!1})},list:function(){Bizagi.App.History.clear(),Bizagi.App.Model.resetIdDiagram(),Bizagi.App.Model.set({actualView:"TableView",showDialog:!1})},error:function(){Bizagi.App.Model.set({actualView:"ErrorView",showDialog:!1})},subProcess:function(a){Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.set({typeDialog:"subProcess",idSubProcess:a,showDialog:!0})},performers:function(){Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.set({typeDialog:"performers",showDialog:!0})},properties:function(a){Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.resetTargetElement(a),Bizagi.App.Model.set({typeDialog:"properties",idElement:a,showDialog:!0})},expand:function(a){Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.set({typeDialog:"expand",showDialog:!0})},images:function(a){a=a.replace(/(\:)/g,"/"),Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.set({typeDialog:"images",pathImage:a,showDialog:!0})},text:function(a){Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.set({typeDialog:"text",showDialog:!0})},description:function(a){Bizagi.App.Model.resetShowDialog(),Bizagi.App.Model.set({typeDialog:"description",showDialog:!0})}}),Backbone.history.start({pushState:!1,root:Bizagi.Util.getHost()})}(jQuery)}$.widget("Bizagi.ExportWeb",{options:{nameApplication:"WebExportModelerApp",unavailableImage:null,unsupported:!1,browser:{}},_create:function(){var a=this;if(void 0===window.console&&(window.console={log:function(){var a="";if("object"==typeof arguments)for(var b in arguments)a+=b+":"+arguments[b];else a=arguments}}),!a.options.unsupported){if(location.search.length>0){for(var b="libs/js/json/configuration.json",c={},d=location.search.substr(1).split("&"),e=0;e<d.length;e++){var f=d[e].split("=");c[f[0]]=f[1]}if(c.json){Bizagi.AppModel={};var g=b+"."+c.json+".js";$("body").append('<script src="'+g+'"></script>')}}$(document).on("headerComplete",function(){}),a._exportInit()}},_exportInit:function(){var a=this;ExportInitizalization(),Bizagi.AppModel.unavailableImage=a.options.unavailableImage,Bizagi.AppModel.browser=browser,$("a:not('.sidebar-button')").on("click",function(a){a.preventDefault();var b=$(this).attr("href");Bizagi.App.Router.navigate(b,{trigger:!0})}),a._buildLayout()},_buildLayout:function(){var a=this;Bizagi.App.Model=new Bizagi.App.Static.Model(Bizagi.AppModel),Bizagi.App.Model.set({target:a.element,actualView:"TableView",showDialog:!1}),Bizagi.App.Router=new Bizagi.App.Static.Router,Bizagi.App.AppView=new Bizagi.App.Views.AppContainerView({model:Bizagi.App.Model}),Bizagi.App.AppView.render();var b=Backbone.history.getFragment();if(Bizagi.App.Router.navigate("/list",{trigger:!0}),-1!==b.indexOf("diagram")?Bizagi.App.Router.navigate(b,{trigger:!0}):-1!==b.indexOf("guid")&&Bizagi.App.Router.navigate(b,{trigger:!0}),IsIE8Browser())PublishWebAttributes.useTheme&&($("head").append('<link rel="stylesheet" href="libs/css/theme_ie8.css" type="text/css" />'),$("head").append('<link rel="stylesheet" href="libs/css/theme.css" type="text/css" />'));else if(PublishWebAttributes.useTheme){var c=$('<style id="lessParserTheme"></style>');$("head").append(c),$("head").append('<link rel="stylesheet" href="libs/css/theme.css" type="text/css" />');var d=$("#lessParser").text().replace(/(\r\n|\n|\r)/g,"").replace(/\s{2}/g,""),e=Bizagi.Util.getVariables(ThemeColors),f=e+d;$("body").append('<div id="full-overlay"><div class="biz-ex-full-overlay"></div><div class="biz-ex-overlay-text absolute-center">'+Bizagi.Util.getResource("ApplyTheme")+"</div></div>");var g=new less.Parser({});try{g.parse(f,function(a,b){c.html(b.toCSS()),setTimeout(function(){$("#full-overlay").fadeOut(200,function(){$(this).remove()})},800)})}catch(h){alert("Syntax Error Check your theme : \n"+h.message),$("#full-overlay").fadeOut(200,function(){$(this).remove()})}}$("#lessParser").remove()},_refresh:function(){},_destroy:function(){var a=this;a.element.remove()},unsupport:function(){console.log("unsupport")}}),$(document).ready(function(){$("#initialization").remove(),browser=new BrowserDetect;var a=!1;browser.isIE?$("html").addClass("ie"):$("html").addClass("standard"),$(".biz-ex-wrapper").ExportWeb({unavailableImage:"libs/img/unavailable-image.png",unsupported:a,browser:browser}),$(document).foundation(),(window.isLocal&&IsIE8Browser()||IsIE8Browser())&&$("body").addClass("isLocal")});